# Бот по поиску отелей, с помощью сайта Hotels.com
Название бота - slavvka_hotels_bot
*** 

## Инструкция по эксплуатации телеграм-бота.

***

### Перечень файлов проекта и краткое описание.

***

### Необходимые для работы файлы в корне проекта:

1. __.env__ - необходимо создать вручную и поместить Токен телеграм-бота и
   API-ключ c сайта [rapidapi.com](https://rapidapi.com/hub), а так же добавить название базы данных
 ```   
BOT_TOKEN= "ваш бот токен"
RAPID_API_KEY= "ваш rapid_api key"
DB_NAME= "database/db.sqlite3"
```

2. __loader.py__ - создаёт хранилище состояний телеграмм-бота и передает в него токен.
3. __main.py__ - запускает бота
4. __README.md__ - инструкция по эксплуатации телеграмм-бота
5. __requirements.txt__ - Список необходимых библиотек, для работы бота.


## Пакеты в корне проекта:

### 1. config_data:

* __init.py__ - инициализирует пакет config_data и его содержимое
* __config.py__ - подгружает переменные окружения, для работы бота

### 2. keyboards:

* __init.py__ - инициализирует пакет keyboards и его содержимое
#### 2.1 calendar:
* __init.py__ - инициализирует пакет calendar и его содержимое
* __telebot_calendar.py__ - содержит функции по созданию календарей и их обработчики
#### 2.2 inline:
* __init.py__ - инициализирует пакет inline и его содержимое
* __create_buttons.py__  - содержит inline-клавиатуры, кроме календарей и ответа 
  
#### 2.3 reply:
* __init.py__ - инициализирует пакет inline и его содержимое
* __data_contact.py__  - содержит кнопку ответа

### 3. handlers:
* __init.py__ - инициализирует пакет handlers и его содержимое
#### 3.1 callback:
* __init.py__ - инициализирует пакет callback и его содержимое
* __choose_city.py__  - отвечает за запоминание города и вывод опроса количества отелей
* __need_photos.py__ - обрабатывает необходимость в фото отелей
* __select_date.py__ - обрабатывает календарь
#### 3.2 custom:
* __init.py__ - инициализирует пакет custom и его содержимое
* __user_env.py__  - создает окружение пользователя
* __input_data.py__ - обрабатывает введенные данные в запросах
* __history.py__ - логика работы команды history
#### 3.3 default:
* __init.py__ - инициализирует пакет default и его содержимое
* __help.py__  - выводит список доступных команд
* __echo.py__  - выдает ответ на исключения
* __start.py__  - приветствует пользователя
### 4. database:

* __init.py__ - инициализирует пакет database и его содержимое
* __add_to_db.py__ - cоздает базу данных если её еще нет, таблицу с данными пользователей и добавляет туда данные
* __read_from_db.py__ - обращается к базе данных и выдает оттуда результаты поиска

### 5. states:

* __init.py__ - инициализирует пакет states и его содержимое
* __contact_information.py__ - запоминает состояния пользователя
* __user_states.py__ - содержит список всех состояний

### 6. utility:

* __init.py__ - инициализирует пакет utility и его содержимое
* __api_request.py__ - отвечает за запросы к api
* __processing_json.py__ - отвечает за взаимодействие с json
* __set_bot_commands.py__ - запускает созданные команды в боте
* __show_data_and_find_hotels.py__ - формирование запросов на поиск и вывод данных
***

### Инструкция по эксплуатации:

Для запуска бота, Вам необходимо будет создать виртуальное окружение. Поместить
токен-бота и API-ключ rapidapi.com в переменные окружения (Файл .env). Далее
запускаем бота в файле main.py. Для отслеживания функционирования бота и
возможных ошибок, ведётся логгирование, путём записи данных в файлы.

### Команды бота:

* /start - Запуск бота
* /help — помощь по командам бота,
* /lowprice — вывод самых дешёвых отелей в городе,
* /highprice — вывод самых дорогих отелей в городе,
* /bestdeal — вывод отелей, наиболее подходящих по цене и расположению от
  центра.
* /history — вывод истории поиска отелей